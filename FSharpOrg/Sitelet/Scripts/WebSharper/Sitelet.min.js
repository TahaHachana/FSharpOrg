(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x;$.Define($$,{Sitelet:{Login:{Client:{form:function(y){return c.Render(function(z){return function(A){return function(B){return f.loginRender(z,A,B);};};},c.Run(function(C){return g.Start(g.Delay(function(){return g.Bind(h.Async("Sitelet:0",[C]),function(E){if(E.$==1){i.location.assign(y);return g.Return(null);}else{j("Login failed");return g.Return(null);}});}));},f.loginPiglet($.New(k,{Username:"",Password:""}))));},loginPiglet:function(F){return c.WithSubmit(l.op_LessMultiplyGreater(l.op_LessMultiplyGreater(c.Return(function(G){return function(H){return k.New(G,H);};}),m.Is(function(I){return m.NotEmpty(I);},"Please enter your username.",c.Yield(F.Username))),m.Is(function(J){return m.NotEmpty(J);},"Please enter your password.",c.Yield(F.Password))));},loginRender:function(K,L,M){var P,S;P=o.add(r.input("text",function(Q){return Q;},function(R){return R;},L),q.ofArray([p.Attr().Class("form-control"),p.Attr().NewAttr("type","password"),s.Attr().NewAttr("placeholder","Password")]));S=function(){return function(U){return U.KeyCode===13?t("#submit-btn").click():null;};};u.Events().OnKeyDown(S,P);return o.add(p.Div(q.ofArray([p.Attr().Class("well"),p.Attr().NewAttr("id","login-form")])),q.ofArray([o.add(p.Div(q.ofArray([p.Attr().Class("form-group")])),q.ofArray([o.add(r.input("text",function(N){return N;},function(O){return O;},K),q.ofArray([p.Attr().Class("form-control"),p.Attr().NewAttr("type","text"),s.Attr().NewAttr("autofocus","autofocus"),s.Attr().NewAttr("required","required"),s.Attr().NewAttr("placeholder","Username")]))])),o.add(p.Div(q.ofArray([p.Attr().Class("form-group")])),q.ofArray([P])),o.add(r.SubmitValidate(M),q.ofArray([p.Attr().Class("btn btn-primary"),p.Attr().NewAttr("id","submit-btn")]))]));}},Control:$.Class({get_Body:function(){return f.form(this.redirectUrl);}}),LoginInfo:$.Class({},{New:function(V,W){return $.New(k,{Username:V,Password:W});}})},News:{Control:$.Class({get_Body:function(){return v.main();}}),main:$.Field(function(){var X;X=p.UL(q.ofArray([p.Attr().Class("list-group"),p.Attr().NewAttr("id","news-list")]));t.getJSON("http://ajax.googleapis.com/ajax/services/feed/load?v=1.0&num=10&callback=?&q=http%3A%2F%2Ffpish.net%2Frss%2Fblogs%2Ftag%2F1%2Ff~23",$.Tupled(function(Y){var Z,_0,_1,_2;Z=Y[0];_0=Y[1];_1=Z.responseData.feed.entries;_2=w.GetArraySlice(_1,{$:0},{$:1,$0:4});return x.iter(function(_3){var _4;_4=_3.link;return X.AppendI(o.add(p.LI(q.ofArray([p.Attr().Class("list-group-item wow animated rotateInUpLeft")])),q.ofArray([o.add(p.H4(q.ofArray([p.Attr().Class("list-group-item-heading")])),q.ofArray([p.A(q.ofArray([p.Attr().NewAttr("href",_4),p.Attr().NewAttr("target","_blank"),p.Text(_3.title)]))])),p.P(q.ofArray([p.Text(_3.contentSnippet)]))])));},_2);}));return X;})}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.WebSharper);b=$.Safe(a.Piglets);c=$.Safe(b.Piglet1);d=$.Safe($$.Sitelet);e=$.Safe(d.Login);f=$.Safe(e.Client);g=$.Safe(a.Concurrency);h=$.Safe(a.Remoting);i=$.Safe($$.window);j=$.Safe($$.alert);k=$.Safe(e.LoginInfo);l=$.Safe(b.Pervasives);m=$.Safe(c.Validation);n=$.Safe(a.Html);o=$.Safe(n.Operators);p=$.Safe(n.Default);q=$.Safe(a.List);r=$.Safe(b.Controls);s=$.Safe(p.HTML5);t=$.Safe($$.jQuery);u=$.Safe(n.EventsPervasives);v=$.Safe(d.News);w=$.Safe(a.OperatorIntrinsics);return x=$.Safe(a.Arrays);});$.OnLoad(function(){v.main();return;});}());
